{"ast":null,"code":"var _jsxFileName = \"/home/dell/inerview/unit4/src/Component/Searchbar/SearchBar.jsx\",\n    _s = $RefreshSig$();\n\nimport styled from \"styled-components\";\nimport React, { useState, useRef } from \"react\";\nimport { useFetch, useDebouncer } from \"/home/dell/inerview/unit4/src/CustomHooks/useHooks.jsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SearchBarWrapper = styled.div`\n  border: 1px solid black;\n  /* border-radius: 20px; */\n  padding: 10px;\n  display: flex;\n  position: realtive;\n  width: 500px;\n  margin: auto;\n  border-bottom: none;\n`;\n_c = SearchBarWrapper;\nconst IconImage = styled.img`\n  height: 20px;\n  padding: 20px;\n`;\n_c2 = IconImage;\nconst input = styled.div`\n  flex: 1;\n  /* border:1px solid black; */\n  /* outline:none; */ ;\n`;\nconst RightSide = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  padding-right: 10px;\n  margin-left: 10px;\n  margin-top: 15px;\n`;\n_c3 = RightSide;\nconst Spinner = styled.div`\n  border: 2px solid #f3f3f3; /* Light grey */\n  border-top: 2px solid #3498db; /* Blue */\n  border-radius: 50%;\n  width: 20px;\n  padding: 2px;\n  margin-left: 10px;\n  height: 20px;\n  animation: spin 2s linear infinite;\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n`;\n_c4 = Spinner;\nconst SuggestionBox = styled.div`\n  display: ${({\n  len\n}) => len !== 0 ? \"flex\" : \"none\"};\n  display: flex;\n  flex-direction: column;\n  flex: 0 0 auto;\n  max-height: 150px;\n  overflow: auto;\n  border: 1px solid grey;\n  /* border-top: none; */\n  width: 520px;\n  margin: auto;\n  margin-top: -20px;\n  & * {\n    flex: 1;\n    padding: 5px;\n    text-align: left;\n    padding-left: 30px;\n    height: 30px;\n  }\n\n  & :nth-child(${({\n  active\n}) => active}) {\n    background-color: grey;\n    color: white;\n    font-weight: bold;\n  }\n\n  /* & :nth-child( n + ${({\n  limit\n}) => limit + 1})\n    {\n        display: none;\n    }  */\n`;\n_c5 = SuggestionBox;\n\nconst SearchBar = ({\n  loading,\n  setLoading,\n  value,\n  onChange,\n  suggestions\n}) => {\n  _s();\n\n  const [q, setQ] = useState(\"\"); // const [loading,setLoading] = useState(false)\n\n  const debouncedQuery = useDebouncer(q, 500);\n  const {\n    isLoading,\n    isError,\n    data\n  } = useFetch(`https://api.github.com/search/users?q=${debouncedQuery || \"masai\"}`);\n  const [active, setActive] = useState(0);\n  const scrollRef = useRef();\n  console.log(data, \"data\");\n\n  const handleinputChange = e => {\n    setQ(e.target.value);\n    onChange(e.target.value);\n    setLoading(true);\n    setTimeout(() => {\n      setLoading(false);\n    }, 1000);\n\n    if (active) {\n      setQ(q);\n    }\n  };\n\n  const handleClear = () => {\n    setQ(\"\");\n    setLoading(false);\n  };\n\n  const handleKeyUp = e => {\n    console.log(e.keyCode, \"keyup\");\n  };\n\n  const handleChangeActiveSuggestions = e => {\n    console.log(e.keyCode, active); // console.log(e.target.scrollTop);\n    // e.current.scrollTop += 10;\n\n    switch (e.keyCode) {\n      case 40:\n        {\n          setActive(prev => prev + 1);\n          break;\n        }\n\n      case 38:\n        {\n          if (active === 1) {\n            setActive(0);\n          } else if (active <= 0) {\n            setActive(data.length);\n          } else {\n            setActive(prev => prev - 1);\n          }\n\n          break;\n        }\n\n      case 13:\n        {\n          console.log(\"hey\");\n          break;\n        }\n\n      default:\n        {\n          return;\n        }\n    }\n  };\n\n  const handleClick = () => {};\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" Search Bar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchBarWrapper, {\n      onKeyUp: handleChangeActiveSuggestions,\n      children: [/*#__PURE__*/_jsxDEV(IconImage, {\n        src: \"https://image.flaticon.com/icons/png/512/622/622669.png\",\n        alt: \"search-icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"input-data\",\n        value: q,\n        onChange: handleinputChange,\n        onKeyUp: handleKeyUp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RightSide, {\n        children: [q && /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: handleClear,\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 17\n        }, this), loading && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: !loading && /*#__PURE__*/_jsxDEV(SuggestionBox, {\n        ref: scrollRef,\n        active: active,\n        len: data.length,\n        limit: 6,\n        children: data.items && data.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n          onMouseOver: () => setActive(index + 1),\n          onClick: handleClick,\n          children: [\" \", item.login]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(SearchBar, \"S31hNSrkf9F83sxCsYtmZIcvU9g=\", false, function () {\n  return [useDebouncer, useFetch];\n});\n\n_c6 = SearchBar;\nexport default SearchBar;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"SearchBarWrapper\");\n$RefreshReg$(_c2, \"IconImage\");\n$RefreshReg$(_c3, \"RightSide\");\n$RefreshReg$(_c4, \"Spinner\");\n$RefreshReg$(_c5, \"SuggestionBox\");\n$RefreshReg$(_c6, \"SearchBar\");","map":{"version":3,"sources":["/home/dell/inerview/unit4/src/Component/Searchbar/SearchBar.jsx"],"names":["styled","React","useState","useRef","useFetch","useDebouncer","SearchBarWrapper","div","IconImage","img","input","RightSide","Spinner","SuggestionBox","len","active","limit","SearchBar","loading","setLoading","value","onChange","suggestions","q","setQ","debouncedQuery","isLoading","isError","data","setActive","scrollRef","console","log","handleinputChange","e","target","setTimeout","handleClear","handleKeyUp","keyCode","handleChangeActiveSuggestions","prev","length","handleClick","items","map","item","index","login","id"],"mappings":"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","sourcesContent":["import styled from \"styled-components\";\nimport React, { useState, useRef } from \"react\";\n\nimport {\n  useFetch,\n  useDebouncer,\n} from \"/home/dell/inerview/unit4/src/CustomHooks/useHooks.jsx\";\n\nconst SearchBarWrapper = styled.div`\n  border: 1px solid black;\n  /* border-radius: 20px; */\n  padding: 10px;\n  display: flex;\n  position: realtive;\n  width: 500px;\n  margin: auto;\n  border-bottom: none;\n`;\n\nconst IconImage = styled.img`\n  height: 20px;\n  padding: 20px;\n`;\n\nconst input = styled.div`\n  flex: 1;\n  /* border:1px solid black; */\n  /* outline:none; */ ;\n`;\n\nconst RightSide = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  padding-right: 10px;\n  margin-left: 10px;\n  margin-top: 15px;\n`;\n\nconst Spinner = styled.div`\n  border: 2px solid #f3f3f3; /* Light grey */\n  border-top: 2px solid #3498db; /* Blue */\n  border-radius: 50%;\n  width: 20px;\n  padding: 2px;\n  margin-left: 10px;\n  height: 20px;\n  animation: spin 2s linear infinite;\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n`;\nconst SuggestionBox = styled.div`\n  display: ${({ len }) => (len !== 0 ? \"flex\" : \"none\")};\n  display: flex;\n  flex-direction: column;\n  flex: 0 0 auto;\n  max-height: 150px;\n  overflow: auto;\n  border: 1px solid grey;\n  /* border-top: none; */\n  width: 520px;\n  margin: auto;\n  margin-top: -20px;\n  & * {\n    flex: 1;\n    padding: 5px;\n    text-align: left;\n    padding-left: 30px;\n    height: 30px;\n  }\n\n  & :nth-child(${({ active }) => active}) {\n    background-color: grey;\n    color: white;\n    font-weight: bold;\n  }\n\n  /* & :nth-child( n + ${({ limit }) => limit + 1})\n    {\n        display: none;\n    }  */\n`;\nconst SearchBar = ({ loading, setLoading, value, onChange, suggestions }) => {\n  const [q, setQ] = useState(\"\");\n  // const [loading,setLoading] = useState(false)\n  const debouncedQuery = useDebouncer(q, 500);\n  const { isLoading, isError, data } = useFetch(\n    `https://api.github.com/search/users?q=${debouncedQuery || \"masai\"}`\n  );\n  const [active, setActive] = useState(0);\n  const scrollRef = useRef();\n\n  console.log(data, \"data\");\n\n  const handleinputChange = (e) => {\n    setQ(e.target.value);\n    onChange(e.target.value);\n    setLoading(true);\n    setTimeout(() => {\n      setLoading(false);\n    }, 1000);\n    if (active) {\n      setQ(q);\n    }\n  };\n\n  const handleClear = () => {\n    setQ(\"\");\n    setLoading(false);\n  };\n\n  const handleKeyUp = (e) => {\n    console.log(e.keyCode, \"keyup\");\n  };\n\n  const handleChangeActiveSuggestions = (e) => {\n    console.log(e.keyCode, active);\n    // console.log(e.target.scrollTop);\n    // e.current.scrollTop += 10;\n    switch (e.keyCode) {\n      case 40: {\n        setActive((prev) => prev + 1);\n        break;\n      }\n\n      case 38: {\n        if (active === 1) {\n          setActive(0);\n        } else if (active <= 0) {\n          setActive(data.length);\n        } else {\n          setActive((prev) => prev - 1);\n        }\n\n        break;\n      }\n      case 13: {\n        console.log(\"hey\");\n        break;\n      }\n      default: {\n        return;\n      }\n    }\n  };\n\n  const handleClick =()=>{\n\n  }\n\n  return (\n    <>\n      <h1> Search Bar</h1>\n      <SearchBarWrapper onKeyUp={handleChangeActiveSuggestions}>\n        <IconImage\n          src=\"https://image.flaticon.com/icons/png/512/622/622669.png\"\n          alt=\"search-icon\"\n        />\n\n        <input\n          type=\"text\"\n          id=\"input-data\"\n          value={q}\n          onChange={handleinputChange}\n          onKeyUp={handleKeyUp}\n          \n        />\n\n        <RightSide>\n          {q && <div onClick={handleClear}>X</div>}\n          {loading && <Spinner></Spinner>}\n        </RightSide>\n      </SearchBarWrapper>\n      <div>\n        {!loading && (\n          <SuggestionBox\n            ref={scrollRef}\n            active={active}\n            len={data.length}\n            limit={6}\n          >\n            {data.items &&\n              data.items.map((item, index) => (\n                <p key={item.id} onMouseOver={() => setActive(index + 1)} onClick={handleClick}>\n                  {\" \"}\n                  {item.login}\n                </p>\n              ))}\n          </SuggestionBox>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default SearchBar;\n"]},"metadata":{},"sourceType":"module"}