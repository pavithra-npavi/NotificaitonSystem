{"ast":null,"code":"var _jsxFileName = \"/home/dell/inerview/unit4/src/Component/Searchbar/SearchBar.jsx\",\n    _s = $RefreshSig$();\n\nimport styled from \"styled-components\";\nimport React, { useState, useRef } from \"react\";\nimport { useFetch, useDebouncer } from \"/home/dell/inerview/unit4/src/CustomHooks/useHooks.jsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst scrollRef = useRef();\nconst SearchBarWrapper = styled.div`\nborder:1px solid black;\n/* border-radius: 20px; */\npadding:10px;\ndisplay:flex;\nposition:realtive;\nwidth:500px;\nmargin:auto;\nborder-bottom: none;\n`;\n_c = SearchBarWrapper;\nconst IconImage = styled.img`\nheight:20px;\npadding:20px;\n`;\n_c2 = IconImage;\nconst input = styled.div`\n    flex:1;\n    /* border:1px solid black; */\n    /* outline:none; */\n    ;\n`;\nconst RightSide = styled.div`\n    display:flex;\n    flex:0 0 auto;\n    padding-right: 10px;\n    margin-left: 10px;\n    margin-top: 15px;\n\n`;\n_c3 = RightSide;\nconst Spinner = styled.div`\n\n  border: 2px solid #f3f3f3; /* Light grey */\n  border-top: 2px solid #3498db; /* Blue */\n  border-radius: 50%;\n  width: 20px;\n  padding:2px;\n  margin-left: 10px;\n  height: 20px;\n  animation: spin 2s linear infinite;\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n`;\n_c4 = Spinner;\nconst SuggestionBox = styled.div`\ndisplay: ${({\n  len\n}) => len !== 0 ? \"flex\" : \"none\"};\n    display: flex;\n    flex-direction:column;\n    flex:0 0  auto;\n    max-height: 150px;\n    overflow:auto;\n   border:1px solid grey;\n   /* border-top: none; */\n    width:520px;\n    margin: auto;\n    margin-top: -20px;\n    & * {\n       flex:1;\n       padding:5px;\n       text-align:left;\n       padding-left:30px;\n       height: 30px;\n    }\n\n    & :nth-child(${({\n  active\n}) => active})\n    {\n        background-color: grey;\n        color: white;\n        font-weight: bold;\n\n    }\n\n    /* & :nth-child( n + ${({\n  limit\n}) => limit + 1})\n    {\n        display: none;\n    }  */\n`;\n_c5 = SuggestionBox;\n\nconst SearchBar = ({\n  loading,\n  setLoading,\n  value,\n  onChange,\n  suggestions\n}) => {\n  _s();\n\n  const [q, setQ] = useState(\"\"); // const [loading,setLoading] = useState(false)\n\n  const debouncedQuery = useDebouncer(q, 500);\n  const {\n    isLoading,\n    isError,\n    data\n  } = useFetch(`https://api.github.com/search/users?q=${debouncedQuery || \"masai\"}`);\n  const [active, setActive] = useState(0);\n  console.log(data, \"data\");\n\n  const handleinputChange = e => {\n    setQ(e.target.value);\n    onChange(e.target.value);\n    setLoading(true);\n    setTimeout(() => {\n      setLoading(false);\n    }, 1000);\n  };\n\n  const handleClear = () => {\n    setQ(\"\");\n    setLoading(false);\n  };\n\n  const handleChangeActiveSuggestions = e => {\n    console.log(e.keyCode, active); // console.log(e.target.scrollTop);\n\n    e.scrollRef.current.scrollTop += 10;\n\n    switch (e.keyCode) {\n      case 40:\n        {\n          // if(active >= suggestions.length)\n          // {\n          //     setActive(0)\n          // }\n          // else{\n          setActive(prev => prev + 1); // }\n\n          break;\n        }\n\n      case 38:\n        {\n          if (active === 1) {\n            setActive(0);\n          } else if (active <= 0) {\n            setActive(data.length);\n          } else {\n            setActive(prev => prev - 1);\n          }\n\n          break;\n        }\n\n      case 13:\n        {\n          break;\n        }\n\n      default:\n        {\n          return;\n        }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" Search Bar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(SearchBarWrapper, {\n      onKeyUp: handleChangeActiveSuggestions,\n      children: [/*#__PURE__*/_jsxDEV(IconImage, {\n        src: \"https://image.flaticon.com/icons/png/512/622/622669.png\",\n        alt: \"search-icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: q,\n        onChange: handleinputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(RightSide, {\n        children: [q && /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: handleClear,\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 23\n        }, this), loading && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: !loading && /*#__PURE__*/_jsxDEV(SuggestionBox, {\n        ref: scrollRef,\n        active: active,\n        len: data.length,\n        limit: 6,\n        children: data.items && data.items.map((item, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n          onMouseOver: () => setActive(index + 1),\n          children: [\" \", item.login]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 52\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(SearchBar, \"3s4jlfK7Q1Jk49R2WnkgzKk6Cpg=\", false, function () {\n  return [useDebouncer, useFetch];\n});\n\n_c6 = SearchBar;\nexport default SearchBar;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"SearchBarWrapper\");\n$RefreshReg$(_c2, \"IconImage\");\n$RefreshReg$(_c3, \"RightSide\");\n$RefreshReg$(_c4, \"Spinner\");\n$RefreshReg$(_c5, \"SuggestionBox\");\n$RefreshReg$(_c6, \"SearchBar\");","map":{"version":3,"sources":["/home/dell/inerview/unit4/src/Component/Searchbar/SearchBar.jsx"],"names":["styled","React","useState","useRef","useFetch","useDebouncer","scrollRef","SearchBarWrapper","div","IconImage","img","input","RightSide","Spinner","SuggestionBox","len","active","limit","SearchBar","loading","setLoading","value","onChange","suggestions","q","setQ","debouncedQuery","isLoading","isError","data","setActive","console","log","handleinputChange","e","target","setTimeout","handleClear","handleChangeActiveSuggestions","keyCode","current","scrollTop","prev","length","items","map","item","index","login","id"],"mappings":"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","sourcesContent":["import styled  from \"styled-components\";\nimport React ,{useState, useRef} from \"react\"\n\nimport {useFetch, useDebouncer} from \"/home/dell/inerview/unit4/src/CustomHooks/useHooks.jsx\"\n\nconst scrollRef = useRef()\nconst SearchBarWrapper = styled.div`\nborder:1px solid black;\n/* border-radius: 20px; */\npadding:10px;\ndisplay:flex;\nposition:realtive;\nwidth:500px;\nmargin:auto;\nborder-bottom: none;\n`;\n\nconst IconImage = styled.img`\nheight:20px;\npadding:20px;\n`;\n\nconst input = styled.div`\n    flex:1;\n    /* border:1px solid black; */\n    /* outline:none; */\n    ;\n`;\n\nconst RightSide = styled.div`\n    display:flex;\n    flex:0 0 auto;\n    padding-right: 10px;\n    margin-left: 10px;\n    margin-top: 15px;\n\n`;\n\nconst Spinner = styled.div`\n\n  border: 2px solid #f3f3f3; /* Light grey */\n  border-top: 2px solid #3498db; /* Blue */\n  border-radius: 50%;\n  width: 20px;\n  padding:2px;\n  margin-left: 10px;\n  height: 20px;\n  animation: spin 2s linear infinite;\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n`;\nconst SuggestionBox = styled.div`\ndisplay: ${({len}) => (len !== 0 ? \"flex\" : \"none\")};\n    display: flex;\n    flex-direction:column;\n    flex:0 0  auto;\n    max-height: 150px;\n    overflow:auto;\n   border:1px solid grey;\n   /* border-top: none; */\n    width:520px;\n    margin: auto;\n    margin-top: -20px;\n    & * {\n       flex:1;\n       padding:5px;\n       text-align:left;\n       padding-left:30px;\n       height: 30px;\n    }\n\n    & :nth-child(${ ({active})=>active})\n    {\n        background-color: grey;\n        color: white;\n        font-weight: bold;\n\n    }\n\n    /* & :nth-child( n + ${({limit}) => limit + 1})\n    {\n        display: none;\n    }  */\n`;\nconst SearchBar = ({loading, setLoading, value, onChange, suggestions })=>{\nconst [ q, setQ] = useState(\"\")\n// const [loading,setLoading] = useState(false)\nconst debouncedQuery = useDebouncer(q, 500)\nconst {isLoading, isError, data} = useFetch(`https://api.github.com/search/users?q=${debouncedQuery || \"masai\"}`)\nconst [ active, setActive] = useState(0)\n\n\nconsole.log(data,\"data\")\n\n\n\nconst handleinputChange=(e)=>{\n\n        setQ(e.target.value);\n        onChange(e.target.value)\n        setLoading(true)\n        setTimeout(()=>{\n            setLoading(false)\n        },1000)\n}\n\nconst handleClear =()=>{\n    setQ(\"\");\n    setLoading(false)\n}\n\nconst handleChangeActiveSuggestions =(e)=>{\n    console.log(e.keyCode, active);\n    // console.log(e.target.scrollTop);\n        e.scrollRef.current.scrollTop += 10;\n    switch(e.keyCode)\n    {\n        case 40: {\n            // if(active >= suggestions.length)\n            // {\n            //     setActive(0)\n            // }\n            // else{\n            setActive(prev => prev + 1);\n            // }\n            break;\n        }   \n     \n        case 38: {\n            if(active === 1)\n            {\n                setActive(0)\n            }\n            else if(active <= 0)\n            {\n                setActive(data.length )\n            }\n            else{\n                setActive((prev) => prev -1);\n            }\n            \n            break;\n        }\n        case 13:{\n\n            break;\n        }\n        default :{\n            return;\n        }\n    }\n}\n    return(\n<>\n        <h1> Search Bar</h1> \n               <SearchBarWrapper onKeyUp ={handleChangeActiveSuggestions}>\n           \n            <IconImage src=\"https://image.flaticon.com/icons/png/512/622/622669.png\"\n            alt =\"search-icon\"\n            />\n         \n            <input type=\"text\" value ={q} onChange={handleinputChange}/>\n\n            <RightSide>\n                \n                {q && <div onClick ={handleClear}>X</div>}\n                {loading && <Spinner></Spinner>}\n\n            </RightSide>\n        </SearchBarWrapper>\n        <div>\n            {!loading && (\n        <SuggestionBox ref={scrollRef} active ={active} len={data.length} limit={6}>\n        {\n           \n        data.items && data.items.map((item,index)=><p key={item.id} \n        onMouseOver={()=>setActive(index+1)}> {item.login}\n            \n            </p>)\n         \n        }\n           </SuggestionBox>\n           )}\n        </div>\n        </>\n    )\n}\n\nexport default SearchBar;"]},"metadata":{},"sourceType":"module"}